{% extends 'base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-8">
    <!-- En-tête avec stats et recherche -->
    <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 mb-8">
        <div class="flex-1">
            <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-2">Outils Essentiels</h1>
            <p class="text-gray-600 dark:text-gray-400">Une collection d'outils pratiques pour vos besoins quotidiens</p>
        </div>
        
        <!-- Barre de recherche et filtres -->
        <div class="flex flex-col sm:flex-row gap-4 w-full lg:w-auto">
            <div class="relative flex-1 lg:flex-none lg:w-64">
                <input type="text" id="toolSearch" placeholder="Rechercher un outil..."
                       class="w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 
                              dark:bg-gray-700/50 dark:text-white focus:ring-2 focus:ring-primary-500">
                <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <div class="flex gap-2 overflow-x-auto pb-2 sm:pb-0 -mx-4 sm:mx-0 px-4 sm:px-0">
                <button data-category="all" 
                        class="category-btn active whitespace-nowrap px-4 py-2.5 rounded-xl 
                               bg-primary-600 text-white font-medium">
                    <i class="fas fa-th-large mr-2"></i>Tous
                </button>
                <button data-category="security" 
                        class="category-btn whitespace-nowrap px-4 py-2.5 rounded-xl bg-gray-100 
                               dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium">
                    <i class="fas fa-shield-alt mr-2 text-green-500"></i>Sécurité
                </button>
                <button data-category="conversion" 
                        class="category-btn whitespace-nowrap px-4 py-2.5 rounded-xl bg-gray-100 
                               dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium">
                    <i class="fas fa-exchange-alt mr-2 text-blue-500"></i>Conversion
                </button>
                <button data-category="image" 
                        class="category-btn whitespace-nowrap px-4 py-2.5 rounded-xl bg-gray-100 
                               dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium">
                    <i class="fas fa-image mr-2 text-purple-500"></i>Image
                </button>
            </div>
        </div>
    </div>

    <!-- Grille d'outils -->
    <div id="toolsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Générateur/Validateur de mot de passe unifié -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="security">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900 mr-3">
                        <i class="fas fa-key text-2xl text-primary-600 dark:text-primary-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Gestion des mots de passe</h2>
                </div>
                
                <div class="space-y-6">
                    <!-- Générateur -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700 dark:text-gray-300">Générer un mot de passe</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Longueur</label>
                                <input type="number" id="pwdLength" value="12" min="8" max="64" 
                                       class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-center input-padding">
                            </div>
                            <div class="flex items-end">
                                <button onclick="generatePassword()" 
                                        class="w-full bg-primary-600 hover:bg-primary-700 text-white rounded-lg px-4 py-2 transition">
                                    <i class="fas fa-sync-alt mr-2"></i>Générer
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex gap-4 items-center">
                            <div class="flex-1">
                                <input type="text" id="generatedPassword" readonly 
                                       class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white pr-12 input-padding"
                                       placeholder="Mot de passe généré">
                            </div>
                            <button onclick="copyToClipboard('generatedPassword')" 
                                    class="flex-shrink-0 px-4 py-2 text-gray-600 hover:text-primary-600 transition">
                                <i class="far fa-copy text-lg"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Séparateur -->
                    <div class="border-t border-gray-200 dark:border-gray-700"></div>

                    <!-- Validateur -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700 dark:text-gray-300">Vérifier un mot de passe</h3>
                        <div class="space-y-4">
                            <div class="flex gap-4">
                                <div class="flex-1">
                                    <input type="text" id="passwordToValidate"
                                           class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white input-padding"
                                           placeholder="Entrez un mot de passe à vérifier">
                                </div>
                                <button onclick="validatePassword()" 
                                        class="flex-shrink-0 px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition">
                                    <i class="fas fa-shield-alt mr-2"></i>Vérifier
                                </button>
                            </div>
                            <div id="validationResult" class="hidden space-y-4">
                                <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span id="passwordStrength" class="font-medium"></span>
                                        <div class="flex-1 ml-4 grid grid-cols-4 gap-2">
                                            <div class="h-1.5 rounded-full bg-gray-200 dark:bg-gray-700 transition-all duration-300" id="strengthBar1"></div>
                                            <div class="h-1.5 rounded-full bg-gray-200 dark:bg-gray-700 transition-all duration-300" id="strengthBar2"></div>
                                            <div class="h-1.5 rounded-full bg-gray-200 dark:bg-gray-700 transition-all duration-300" id="strengthBar3"></div>
                                            <div class="h-1.5 rounded-full bg-gray-200 dark:bg-gray-700 transition-all duration-300" id="strengthBar4"></div>
                                        </div>
                                    </div>
                                    <ul id="passwordCriteria" class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                        <li id="lengthCriterion"><i class="fas fa-circle text-xs mr-2"></i>8 caractères minimum</li>
                                        <li id="upperCriterion"><i class="fas fa-circle text-xs mr-2"></i>Une majuscule</li>
                                        <li id="lowerCriterion"><i class="fas fa-circle text-xs mr-2"></i>Une minuscule</li>
                                        <li id="numberCriterion"><i class="fas fa-circle text-xs mr-2"></i>Un chiffre</li>
                                        <li id="specialCriterion"><i class="fas fa-circle text-xs mr-2"></i>Un caractère spécial</li>
                                    </ul>
                                </div>
                                <div id="passwordFeedback" class="text-sm"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calculateur de Hash -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="security">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900 mr-3">
                        <i class="fas fa-hashtag text-2xl text-purple-600 dark:text-purple-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Calculateur de Hash</h2>
                </div>
                <div class="space-y-4">
                    <!-- Onglets améliorés -->
                    <div class="flex rounded-lg bg-gray-100 dark:bg-gray-700/50 p-1">
                        <button onclick="switchHashTab('text')" id="hashTabText"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md 
                                       transition-all duration-200 bg-white dark:bg-gray-800 shadow-sm">
                            <i class="fas fa-keyboard mr-2"></i>Texte
                        </button>
                        <button onclick="switchHashTab('file')" id="hashTabFile"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md
                                       transition-all duration-200 text-gray-600 dark:text-gray-300
                                       hover:text-gray-900 dark:hover:text-white">
                            <i class="fas fa-file-alt mr-2"></i>Fichier
                        </button>
                    </div>

                    <!-- Section Texte -->
                    <div id="hashTextSection" class="transition-all duration-200">
                        <textarea id="textToHash"
                                class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                       dark:bg-gray-700 dark:text-white resize-vertical min-h-[96px] max-h-[400px] 
                                       textarea-padding font-mono text-sm"
                                placeholder="Texte à hasher"
                                spellcheck="false"></textarea>
                    </div>

                    <!-- Section Fichier améliorée -->
                    <div id="hashFileSection" class="hidden transition-all duration-200">
                        <div class="flex flex-col items-center justify-center w-full">
                            <label class="w-full flex flex-col items-center px-4 py-6 bg-gray-50 
                                        dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 
                                        rounded-lg border-2 border-dashed border-gray-300 
                                        dark:border-gray-600 cursor-pointer hover:bg-gray-100 
                                        dark:hover:bg-gray-700 transition-colors duration-200">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                    <i class="fas fa-cloud-upload-alt text-3xl mb-3 text-gray-400"></i>
                                    <p class="mb-2 text-sm"><span class="font-semibold">Cliquez</span> ou glissez un fichier ici</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">
                                        TXT, MD, JSON, XML, CSV (Max. 10MB)
                                    </p>
                                </div>
                                <input type="file" id="fileToHash" class="hidden" 
                                       accept=".txt,.md,.json,.xml,.csv">
                            </label>
                            <div id="selectedFileName" class="mt-2 text-sm text-gray-500 dark:text-gray-400 
                                                            flex items-center gap-2">
                                <i class="fas fa-file text-gray-400"></i>
                                <span>Aucun fichier sélectionné</span>
                            </div>
                        </div>
                    </div>

                    <!-- Options de hash communes -->
                    <div class="grid grid-cols-2 gap-4">
                        <select id="hashAlgorithm"
                                class="rounded-lg border-gray-300 dark:border-gray-600 
                                       dark:bg-gray-700 dark:text-white select-padding">
                            <option value="md5">MD5</option>
                            <option value="sha1">SHA-1</option>
                            <option value="sha256" selected>SHA-256</option>
                            <option value="sha512">SHA-512</option>
                        </select>
                        <button onclick="calculateHash()" 
                                class="bg-purple-600 hover:bg-purple-700 text-white rounded-lg px-4 py-2 transition">
                            <i class="fas fa-calculator mr-2"></i>Calculer
                        </button>
                    </div>

                    <div class="relative">
                        <div class="flex">
                            <input type="text" id="hashResult" readonly
                                   class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                          dark:bg-gray-700 dark:text-white pr-24 input-padding"
                                   placeholder="Résultat du hash">
                            <div class="absolute right-0 top-0 h-full flex items-center gap-2 pr-2">
                                <button onclick="copyToClipboard('hashResult')"
                                        class="p-2 text-gray-400 hover:text-purple-500 transition"
                                        title="Copier">
                                    <i class="far fa-copy"></i>
                                </button>
                                <button onclick="clearHash()"
                                        class="p-2 text-gray-400 hover:text-red-500 transition"
                                        title="Effacer">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Encodeur/Décodeur Base64 -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="conversion">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900 mr-3">
                        <i class="fas fa-exchange-alt text-2xl text-blue-600 dark:text-blue-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Base64</h2>
                </div>
                <div class="space-y-4">
                    <!-- Onglets -->
                    <div class="flex rounded-lg bg-gray-100 dark:bg-gray-700/50 p-1">
                        <button onclick="switchBase64Tab('text')" id="base64TabText"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md 
                                       transition-all duration-200 bg-white dark:bg-gray-800 shadow-sm">
                            <i class="fas fa-keyboard mr-2"></i>Texte
                        </button>
                        <button onclick="switchBase64Tab('file')" id="base64TabFile"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md
                                       transition-all duration-200 text-gray-600 dark:text-gray-300
                                       hover:text-gray-900 dark:hover:text-white">
                            <i class="fas fa-file-alt mr-2"></i>Fichier
                        </button>
                    </div>

                    <!-- Section Texte -->
                    <div id="base64TextSection" class="transition-all duration-200">
                        <textarea id="base64Input"
                                  class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                         dark:bg-gray-700 dark:text-white resize-vertical min-h-[96px] max-h-[400px] 
                                         textarea-padding font-mono text-sm"
                                  placeholder="Texte à encoder/décoder"
                                  spellcheck="false"></textarea>
                    </div>

                    <!-- Section Fichier -->
                    <div id="base64FileSection" class="hidden transition-all duration-200">
                        <div class="flex flex-col items-center justify-center w-full">
                            <label class="w-full flex flex-col items-center px-4 py-6 bg-gray-50 
                                        dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 
                                        rounded-lg border-2 border-dashed border-gray-300 
                                        dark:border-gray-600 cursor-pointer hover:bg-gray-100 
                                        dark:hover:bg-gray-700 transition-colors duration-200">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                    <i class="fas fa-cloud-upload-alt text-3xl mb-3 text-gray-400"></i>
                                    <p class="mb-2 text-sm"><span class="font-semibold">Cliquez</span> ou glissez un fichier ici</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Tous types de fichiers (Max. 10MB)</p>
                                </div>
                                <input type="file" id="fileToBase64" class="hidden">
                            </label>
                            <div id="base64FileName" class="mt-2 text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2">
                                <i class="fas fa-file text-gray-400"></i>
                                <span>Aucun fichier sélectionné</span>
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex gap-2">
                        <button onclick="handleBase64('encode')"
                                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2 transition">
                            <i class="fas fa-lock mr-2"></i>Encoder
                        </button>
                        <button onclick="handleBase64('decode')"
                                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2 transition">
                            <i class="fas fa-lock-open mr-2"></i>Décoder
                        </button>
                    </div>

                    <!-- Résultat -->
                    <div class="relative">
                        <textarea id="base64Result" readonly
                                  class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                         dark:bg-gray-700 dark:text-white resize-vertical min-h-[96px] max-h-[400px] 
                                         textarea-padding font-mono text-sm"
                                  placeholder="Résultat"
                                  spellcheck="false"></textarea>
                        <div class="absolute right-0 top-0 h-full flex items-center gap-2 pr-2">
                            <button onclick="copyToClipboard('base64Result')"
                                    class="p-2 text-gray-400 hover:text-blue-500 transition"
                                    title="Copier">
                                <i class="far fa-copy"></i>
                            </button>
                            <button onclick="clearBase64()"
                                    class="p-2 text-gray-400 hover:text-red-500 transition"
                                    title="Effacer">
                                <i class="fas fa-times"></i>
                            </button>
                            <button onclick="downloadBase64Result()" id="downloadBase64Button"
                                    class="p-2 text-gray-400 hover:text-green-500 transition hidden"
                                    title="Télécharger">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Formateur JSON -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="conversion">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900 mr-3">
                        <i class="fas fa-code text-2xl text-amber-600 dark:text-amber-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Formateur JSON</h2>
                </div>
                <div class="space-y-4">
                    <!-- Onglets -->
                    <div class="flex rounded-lg bg-gray-100 dark:bg-gray-700/50 p-1">
                        <button onclick="switchJsonTab('text')" id="jsonTabText"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md 
                                       transition-all duration-200 bg-white dark:bg-gray-800 shadow-sm">
                            <i class="fas fa-keyboard mr-2"></i>Texte
                        </button>
                        <button onclick="switchJsonTab('file')" id="jsonTabFile"
                                class="flex-1 flex items-center justify-center px-4 py-2 rounded-md
                                       transition-all duration-200 text-gray-600 dark:text-gray-300
                                       hover:text-gray-900 dark:hover:text-white">
                            <i class="fas fa-file-alt mr-2"></i>Fichier
                        </button>
                    </div>

                    <!-- Section Texte -->
                    <div id="jsonTextSection" class="transition-all duration-200">
                        <textarea id="jsonInput"
                                  class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                         dark:bg-gray-700 dark:text-white resize-vertical min-h-[128px] max-h-[600px] 
                                         textarea-padding font-mono text-sm leading-relaxed"
                                  placeholder="JSON à formater"
                                  spellcheck="false"></textarea>
                    </div>

                    <!-- Section Fichier -->
                    <div id="jsonFileSection" class="hidden transition-all duration-200">
                        <div class="flex flex-col items-center justify-center w-full">
                            <label class="w-full flex flex-col items-center px-4 py-6 bg-gray-50 
                                        dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 
                                        rounded-lg border-2 border-dashed border-gray-300 
                                        dark:border-gray-600 cursor-pointer hover:bg-gray-100 
                                        dark:hover:bg-gray-700 transition-colors duration-200">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                    <i class="fas fa-cloud-upload-alt text-3xl mb-3 text-gray-400"></i>
                                    <p class="mb-2 text-sm"><span class="font-semibold">Cliquez</span> ou glissez un fichier ici</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Fichiers JSON uniquement</p>
                                </div>
                                <input type="file" id="fileToJson" class="hidden" accept=".json">
                            </label>
                            <div id="jsonFileName" class="mt-2 text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2">
                                <i class="fas fa-file text-gray-400"></i>
                                <span>Aucun fichier sélectionné</span>
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->    
                    <div class="flex gap-2">
                        <button onclick="formatJson()"
                                class="flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg 
                                       px-4 py-2 transition">
                            <i class="fas fa-indent mr-2"></i>Formater
                        </button>
                        <button onclick="minifyJson()"
                                class="flex-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg 
                                       px-4 py-2 transition">
                            <i class="fas fa-compress-arrows-alt mr-2"></i>Minifier
                        </button>
                    </div>

                    <!-- Résultat -->
                    <div class="relative">
                        <textarea id="jsonResult" readonly
                                  class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                         dark:bg-gray-700 dark:text-white resize-vertical min-h-[128px] max-h-[600px] 
                                         textarea-padding font-mono text-sm leading-relaxed"
                                  placeholder="Résultat"
                                  spellcheck="false"></textarea>
                        <div class="absolute right-0 top-0 h-full flex items-center gap-2 pr-2">
                            <button onclick="copyToClipboard('jsonResult')"
                                    class="p-2 text-gray-400 hover:text-amber-500 transition"
                                    title="Copier">
                                <i class="far fa-copy"></i>
                            </button>
                            <button onclick="clearJson()"
                                    class="p-2 text-gray-400 hover:text-red-500 transition"
                                    title="Effacer">
                                <i class="fas fa-times"></i>
                            </button>
                            <button onclick="downloadJsonResult()" id="downloadJsonButton"
                                    class="p-2 text-gray-400 hover:text-green-500 transition hidden"
                                    title="Télécharger">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- QR Code Generator -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="conversion">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900 mr-3">
                        <i class="fas fa-qrcode text-2xl text-blue-600 dark:text-blue-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Générateur QR Code</h2>
                </div>
                <div class="space-y-4">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Contenu</label>
                        <textarea id="qrContent"
                                  class="w-full rounded-lg border-gray-300 dark:border-gray-600 
                                         dark:bg-gray-700 dark:text-white resize-vertical min-h-[96px] max-h-[200px] 
                                         textarea-padding"
                                  placeholder="Texte ou URL pour le QR code"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Taille
                            </label>
                            <input type="number" id="qrSize" value="10" min="5" max="20"
                                   class="mt-1 w-full rounded-lg border-gray-300 dark:border-gray-600 
                                          dark:bg-gray-700 dark:text-white input-padding">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Bordure
                            </label>
                            <input type="number" id="qrBorder" value="4" min="0" max="10"
                                   class="mt-1 w-full rounded-lg border-gray-300 dark:border-gray-600 
                                          dark:bg-gray-700 dark:text-white input-padding">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Couleur QR
                            </label>
                            <div class="mt-1 flex">
                                <input type="color" id="qrColor" value="#000000"
                                       class="h-10 w-full rounded-lg cursor-pointer border-gray-300 
                                              dark:border-gray-600 dark:bg-gray-700">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Couleur fond
                            </label>
                            <div class="mt-1 flex">
                                <input type="color" id="qrBgColor" value="#FFFFFF"
                                       class="h-10 w-full rounded-lg cursor-pointer border-gray-300 
                                              dark:border-gray-600 dark:bg-gray-700">
                            </div>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <button onclick="generateQRCode()"
                                class="w-full bg-blue-600 hover:bg-blue-700 text-white rounded-lg 
                                       px-4 py-2 transition flex items-center justify-center">
                            <i class="fas fa-qrcode mr-2"></i>
                            Générer QR Code
                        </button>
                        
                        <div id="qrResult" class="hidden mt-4">
                            <div class="p-4 bg-gray-100 dark:bg-gray-700 rounded-lg">
                                <img id="qrImage" class="mx-auto max-w-full h-auto rounded-lg shadow-lg bg-white dark:bg-gray-800"
                                     alt="QR Code généré">
                            </div>
                            <button onclick="downloadQRCode()"
                                    class="mt-2 w-full bg-green-600 hover:bg-green-700 text-white 
                                           rounded-lg px-4 py-2 transition flex items-center justify-center">
                                <i class="fas fa-download mr-2"></i>
                                Télécharger
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upscale Image -->
        <div class="tool-card bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300" data-category="image">
            <div class="p-6">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-green-100 dark:bg-green-900 mr-3">
                        <i class="fas fa-image text-2xl text-green-600 dark:text-green-400"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Redimensionner Image</h2>
                </div>
                <div class="space-y-4">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                            Sélectionnez une image
                        </label>
                        <input type="file" id="imageInput" accept="image/*"
                               class="w-full text-sm text-gray-500 dark:text-gray-400
                                      file:mr-4 file:py-2 file:px-4
                                      file:rounded-full file:border-0
                                      file:text-sm file:font-semibold
                                      file:bg-primary-50 file:text-primary-700
                                      dark:file:bg-primary-900 dark:file:text-primary-300
                                      hover:file:bg-primary-100 dark:hover:file:bg-primary-800">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Largeur
                            </label>
                            <input type="number" id="imageWidth" placeholder="Auto"
                                   class="mt-1 w-full rounded-lg border-gray-300 dark:border-gray-600 
                                          dark:bg-gray-700 dark:text-white input-padding">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                Hauteur
                            </label>
                            <input type="number" id="imageHeight" placeholder="Auto"
                                   class="mt-1 w-full rounded-lg border-gray-300 dark:border-gray-600 
                                          dark:bg-gray-700 dark:text-white input-padding">
                        </div>
                    </div>

                    <div class="flex items-center">
                        <input type="checkbox" id="maintainRatio" checked
                               class="rounded border-gray-300 text-primary-600 
                                      focus:ring-primary-500 dark:border-gray-600">
                        <label class="ml-2 text-sm text-gray-700 dark:text-gray-300">
                            Conserver les proportions
                        </label>
                    </div>

                    <button onclick="upscaleImage()"
                            class="w-full bg-green-600 hover:bg-green-700 text-white rounded-lg 
                                   px-4 py-2 transition flex items-center justify-center mb-2">
                        <i class="fas fa-expand-arrows-alt mr-2"></i>
                        Redimensionner
                    </button>
                    <button onclick="resetImageForm()"
                            class="w-full bg-gray-600 hover:bg-gray-700 text-white rounded-lg 
                                   px-4 py-2 transition flex items-center justify-center">
                        <i class="fas fa-trash-alt mr-2"></i>
                        Réinitialiser
                    </button>
                </div>
            </div>
        </div>

        <!-- Analyseur de texte -->
        <div class="tool-card" data-category="text"></div>
<style>
/* Base */
.tool-card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl 
           transition-all duration-300 transform hover:-translate-y-1;
}

/* Animations */
.tool-card.hidden {
    transform: scale(0.95);
    opacity: 0;
}

/* Boutons */
.category-btn {
    @apply transition-all duration-300 hover:bg-gray-200 dark:hover:bg-gray-600;
}

.category-btn.active {
    @apply bg-primary-600 text-white shadow-lg hover:bg-primary-700;
}

.btn-loading {
    @apply relative !pl-8;
}

.btn-loading::before {
    content: '';
    @apply absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 border-2 
           border-white/30 border-t-white rounded-full animate-spin;
}

/* Inputs et Forms */
input[type="text"],
input[type="number"],
input[type="password"],
input[type="email"],
select {
    @apply w-full rounded-xl border border-gray-300 dark:border-gray-600 
           bg-white dark:bg-gray-700/50 text-gray-900 dark:text-gray-100
           focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500
           placeholder:text-gray-400 dark:placeholder:text-gray-500
           transition-all duration-200;
    min-height: 3rem;
    padding: 0.75rem 1rem;
}

input[type="number"] {
    @apply text-center;
    padding: 0.75rem 1rem;
}

/* Textarea */
textarea {
    @apply min-h-[96px] resize-vertical font-mono text-sm leading-relaxed
           rounded-xl border border-gray-300 dark:border-gray-600 
           bg-white dark:bg-gray-700/50 text-gray-900 dark:text-gray-100
           focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500
           placeholder:text-gray-400 dark:placeholder:text-gray-500;
    padding: 0.75rem 3rem 0.75rem 1rem;
}

/* Scrollbars */
textarea::-webkit-scrollbar {
    @apply w-2;
}

textarea::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-700 rounded-r;
}

textarea::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
    border: 2px solid transparent;
    background-clip: padding-box;
}

textarea::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
}

/* États spéciaux */
input[readonly],
input[disabled],
textarea[readonly],
textarea[disabled] {
    @apply bg-gray-50 dark:bg-gray-800/50 cursor-not-allowed;
}

/* Icônes et actions */
.input-icon i {
    @apply absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 text-lg;
}

.input-action-right {
    @apply absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2;
}

.relative .absolute {
    @apply top-3 right-3;
}

.relative .absolute button {
    @apply p-2.5;
}
</style>

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/essentials.js') }}" defer></script>
{% endblock %}

{% endblock %}